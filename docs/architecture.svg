<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="800" height="600" fill="#f8f9fa" />
  
  <!-- Title -->
  <text x="400" y="30" font-family="Arial" font-size="24" text-anchor="middle" font-weight="bold">Advanced Java Networking Library Architecture</text>
  
  <!-- Layer Boxes -->
  <!-- Client Layer -->
  <rect x="100" y="70" width="600" height="70" rx="5" ry="5" fill="#e3f2fd" stroke="#2196f3" stroke-width="2" />
  <text x="400" y="100" font-family="Arial" font-size="18" text-anchor="middle" font-weight="bold">Client Layer</text>
  <text x="400" y="125" font-family="Arial" font-size="14" text-anchor="middle">Programmatic API • Annotation-Based API</text>
  
  <!-- Protocol Layer -->
  <rect x="100" y="150" width="600" height="70" rx="5" ry="5" fill="#e8f5e9" stroke="#4caf50" stroke-width="2" />
  <text x="400" y="180" font-family="Arial" font-size="18" text-anchor="middle" font-weight="bold">Protocol Layer</text>
  <text x="400" y="205" font-family="Arial" font-size="14" text-anchor="middle">HTTP • TCP • UDP • WebSocket • Custom Protocols</text>
  
  <!-- Implementation Layer -->
  <rect x="100" y="230" width="600" height="70" rx="5" ry="5" fill="#fff3e0" stroke="#ff9800" stroke-width="2" />
  <text x="400" y="260" font-family="Arial" font-size="18" text-anchor="middle" font-weight="bold">Implementation Layer</text>
  <text x="400" y="285" font-family="Arial" font-size="14" text-anchor="middle">Java HTTP Client • Netty TCP/UDP • WebSocket Implementations</text>
  
  <!-- Middleware Layer -->
  <rect x="100" y="310" width="600" height="70" rx="5" ry="5" fill="#f3e5f5" stroke="#9c27b0" stroke-width="2" />
  <text x="400" y="340" font-family="Arial" font-size="18" text-anchor="middle" font-weight="bold">Middleware Layer</text>
  <text x="400" y="365" font-family="Arial" font-size="14" text-anchor="middle">Logging • Retry • Circuit Breaker • Rate Limiting • Metrics</text>
  
  <!-- Serialization Layer -->
  <rect x="100" y="390" width="600" height="70" rx="5" ry="5" fill="#e1f5fe" stroke="#03a9f4" stroke-width="2" />
  <text x="400" y="420" font-family="Arial" font-size="18" text-anchor="middle" font-weight="bold">Serialization Layer</text>
  <text x="400" y="445" font-family="Arial" font-size="14" text-anchor="middle">JSON • XML • Protocol Buffers • Custom Formats</text>
  
  <!-- Extension Layer -->
  <rect x="100" y="470" width="600" height="70" rx="5" ry="5" fill="#ffebee" stroke="#f44336" stroke-width="2" />
  <text x="400" y="500" font-family="Arial" font-size="18" text-anchor="middle" font-weight="bold">Extension Layer (SPI)</text>
  <text x="400" y="525" font-family="Arial" font-size="14" text-anchor="middle">SerializerProvider • ProtocolProvider • MiddlewareProvider</text>
  
  <!-- Arrows connecting layers -->
  <line x1="400" y1="140" x2="400" y2="150" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)" />
  <line x1="400" y1="220" x2="400" y2="230" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)" />
  <line x1="400" y1="300" x2="400" y2="310" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)" />
  <line x1="400" y1="380" x2="400" y2="390" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)" />
  <line x1="400" y1="460" x2="400" y2="470" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)" />
  
  <!-- Arrowhead marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>
  
  <!-- Legend -->
  <rect x="650" y="550" width="20" height="20" fill="#e3f2fd" stroke="#2196f3" stroke-width="2" />
  <text x="675" y="565" font-family="Arial" font-size="12" font-weight="bold">API</text>
  
  <rect x="710" y="550" width="20" height="20" fill="#ffebee" stroke="#f44336" stroke-width="2" />
  <text x="735" y="565" font-family="Arial" font-size="12" font-weight="bold">SPI</text>
</svg>