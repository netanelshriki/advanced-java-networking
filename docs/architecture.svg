<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1200" height="800" viewBox="0 0 1200 800">
  <style>
    text {
      font-family: Arial, sans-serif;
      font-size: 14px;
    }
    .title {
      font-size: 18px;
      font-weight: bold;
    }
    .component-box {
      fill: #e6f3ff;
      stroke: #6baed6;
      stroke-width: 2;
      rx: 5;
      ry: 5;
    }
    .layer-box {
      fill: #f8f8f8;
      stroke: #bdbdbd;
      stroke-width: 1;
      stroke-dasharray: 5, 5;
    }
    .layer-title {
      font-size: 16px;
      font-style: italic;
    }
    .application-box {
      fill: #e6e6e6;
      stroke: #969696;
      stroke-width: 1;
    }
    .arrow {
      stroke: #636363;
      stroke-width: 2;
      fill: none;
      marker-end: url(#arrow);
    }
    .bidirectional-arrow {
      stroke: #636363;
      stroke-width: 2;
      fill: none;
      marker-end: url(#arrow);
      marker-start: url(#arrow-back);
    }
    .http-color { fill: #c6dbef; }
    .tcp-color { fill: #c7e9c0; }
    .udp-color { fill: #fdd0a2; }
    .websocket-color { fill: #d4b9da; }
    .middleware-color { fill: #fee6ce; }
    .serialization-color { fill: #d9d9d9; }
  </style>
  
  <defs>
    <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5"
        markerWidth="6" markerHeight="6" orient="auto">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#636363"/>
    </marker>
    <marker id="arrow-back" viewBox="0 0 10 10" refX="1" refY="5"
        markerWidth="6" markerHeight="6" orient="auto">
      <path d="M 10 0 L 0 5 L 10 10 z" fill="#636363"/>
    </marker>
  </defs>
  
  <rect x="10" y="10" width="1180" height="780" fill="white" stroke="#e0e0e0" stroke-width="1"/>
  
  <text x="600" y="40" text-anchor="middle" class="title">Advanced Java Networking Library - Architecture</text>

  <!-- Application Layer -->
  <rect x="50" y="70" width="1100" height="80" class="application-box"/>
  <text x="600" y="90" text-anchor="middle" class="layer-title">Client Application</text>
  <rect x="100" y="100" width="200" height="40" rx="5" ry="5" class="component-box http-color"/>
  <text x="200" y="125" text-anchor="middle">HTTP Client Usage</text>
  <rect x="350" y="100" width="200" height="40" rx="5" ry="5" class="component-box tcp-color"/>
  <text x="450" y="125" text-anchor="middle">TCP Client Usage</text>
  <rect x="600" y="100" width="200" height="40" rx="5" ry="5" class="component-box udp-color"/>
  <text x="700" y="125" text-anchor="middle">UDP Client Usage</text>
  <rect x="850" y="100" width="200" height="40" rx="5" ry="5" class="component-box websocket-color"/>
  <text x="950" y="125" text-anchor="middle">WebSocket Client Usage</text>

  <!-- Factory Layer -->
  <rect x="50" y="170" width="1100" height="80" class="layer-box"/>
  <text x="600" y="190" text-anchor="middle" class="layer-title">Factory Layer (NetworkLib)</text>
  <rect x="100" y="200" width="1000" height="40" rx="5" ry="5" class="component-box"/>
  <text x="600" y="225" text-anchor="middle">Client Factories and Builders</text>

  <!-- API Layer -->
  <rect x="50" y="270" width="1100" height="100" class="layer-box"/>
  <text x="600" y="290" text-anchor="middle" class="layer-title">API Layer</text>
  <rect x="100" y="310" width="200" height="40" rx="5" ry="5" class="component-box http-color"/>
  <text x="200" y="335" text-anchor="middle">HttpClient Interface</text>
  <rect x="350" y="310" width="200" height="40" rx="5" ry="5" class="component-box tcp-color"/>
  <text x="450" y="335" text-anchor="middle">TcpClient Interface</text>
  <rect x="600" y="310" width="200" height="40" rx="5" ry="5" class="component-box udp-color"/>
  <text x="700" y="335" text-anchor="middle">UdpClient Interface</text>
  <rect x="850" y="310" width="200" height="40" rx="5" ry="5" class="component-box websocket-color"/>
  <text x="950" y="335" text-anchor="middle">WebSocketClient Interface</text>

  <!-- Middleware Layer -->
  <rect x="50" y="390" width="1100" height="100" class="layer-box"/>
  <text x="600" y="410" text-anchor="middle" class="layer-title">Middleware Layer</text>
  <rect x="100" y="430" width="200" height="40" rx="5" ry="5" class="component-box middleware-color"/>
  <text x="200" y="455" text-anchor="middle">Retry Middleware</text>
  <rect x="350" y="430" width="200" height="40" rx="5" ry="5" class="component-box middleware-color"/>
  <text x="450" y="455" text-anchor="middle">Circuit Breaker</text>
  <rect x="600" y="430" width="200" height="40" rx="5" ry="5" class="component-box middleware-color"/>
  <text x="700" y="455" text-anchor="middle">Rate Limiting</text>
  <rect x="850" y="430" width="200" height="40" rx="5" ry="5" class="component-box middleware-color"/>
  <text x="950" y="455" text-anchor="middle">Logging Middleware</text>

  <!-- Implementation Layer -->
  <rect x="50" y="510" width="1100" height="100" class="layer-box"/>
  <text x="600" y="530" text-anchor="middle" class="layer-title">Implementation Layer</text>
  <rect x="100" y="550" width="200" height="40" rx="5" ry="5" class="component-box http-color"/>
  <text x="200" y="575" text-anchor="middle">DefaultHttpClient</text>
  <rect x="350" y="550" width="200" height="40" rx="5" ry="5" class="component-box tcp-color"/>
  <text x="450" y="575" text-anchor="middle">NettyTcpClient</text>
  <rect x="600" y="550" width="200" height="40" rx="5" ry="5" class="component-box udp-color"/>
  <text x="700" y="575" text-anchor="middle">DefaultUdpClient</text>
  <rect x="850" y="550" width="200" height="40" rx="5" ry="5" class="component-box websocket-color"/>
  <text x="950" y="575" text-anchor="middle">NettyWebSocketClient</text>

  <!-- Serialization Layer -->
  <rect x="50" y="630" width="1100" height="80" class="layer-box"/>
  <text x="600" y="650" text-anchor="middle" class="layer-title">Serialization Layer</text>
  <rect x="100" y="660" width="300" height="40" rx="5" ry="5" class="component-box serialization-color"/>
  <text x="250" y="685" text-anchor="middle">JSON Serialization (Jackson)</text>
  <rect x="450" y="660" width="300" height="40" rx="5" ry="5" class="component-box serialization-color"/>
  <text x="600" y="685" text-anchor="middle">Protocol Buffer Serialization</text>
  <rect x="800" y="660" width="300" height="40" rx="5" ry="5" class="component-box serialization-color"/>
  <text x="950" y="685" text-anchor="middle">Custom Serialization Formats</text>

  <!-- External Layer -->
  <rect x="50" y="730" width="1100" height="50" class="layer-box"/>
  <text x="600" y="760" text-anchor="middle">External Network Services / Remote Endpoints</text>

  <!-- Connections between layers -->
  <path d="M 200 140 L 200 200" class="arrow"/>
  <path d="M 450 140 L 450 200" class="arrow"/>
  <path d="M 700 140 L 700 200" class="arrow"/>
  <path d="M 950 140 L 950 200" class="arrow"/>
  
  <path d="M 600 240 L 600 270" class="arrow"/>

  <path d="M 200 350 L 200 390" class="bidirectional-arrow"/>
  <path d="M 450 350 L 450 390" class="bidirectional-arrow"/>
  <path d="M 700 350 L 700 390" class="bidirectional-arrow"/>
  <path d="M 950 350 L 950 390" class="bidirectional-arrow"/>
  
  <path d="M 200 470 L 200 510" class="bidirectional-arrow"/>
  <path d="M 450 470 L 450 510" class="bidirectional-arrow"/>
  <path d="M 700 470 L 700 510" class="bidirectional-arrow"/>
  <path d="M 950 470 L 950 510" class="bidirectional-arrow"/>
  
  <path d="M 200 590 L 200 630" class="bidirectional-arrow"/>
  <path d="M 450 590 L 450 630" class="bidirectional-arrow"/>
  <path d="M 700 590 L 700 630" class="bidirectional-arrow"/>
  <path d="M 950 590 L 950 630" class="bidirectional-arrow"/>
  
  <path d="M 250 700 L 250 730" class="arrow"/>
  <path d="M 600 700 L 600 730" class="arrow"/>
  <path d="M 950 700 L 950 730" class="arrow"/>
</svg>